# ============================================
# Sheet-API Environment Configuration
# Arquitectura Distribuida - Standalone Service
# ============================================

# Django Settings
DJANGO_SETTINGS_MODULE=sheetmusic_api.settings
DJANGO_SECRET_KEY=django-insecure-change-this-in-production
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,backend,host.docker.internal

# Database Configuration (PostgreSQL para producción)
SQL_ENGINE=django.db.backends.postgresql
SQL_DATABASE=sheetmusic
SQL_USER=sheetmusic
SQL_PASSWORD=sheetmusic
SQL_HOST=db
SQL_PORT=5432

# CORS Configuration - Arquitectura Distribuida
# Permite requests desde frontends deployed en diferentes servicios (Vercel, Netlify, etc.)
# Desarrollo: localhost en diferentes puertos (3000=sheet-api-admin, 3001=jam-de-vientos, 3002=music-learning)
# Producción: Agregar dominios reales (https://jamdevientos.com, https://musiclearning.com, etc.)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001,http://localhost:3002,http://127.0.0.1:3002

# Static & Media Files
STATIC_URL=/static/
STATIC_ROOT=/app/static
MEDIA_URL=/media/
MEDIA_ROOT=/app/media

# Security Settings
# CSRF_TRUSTED_ORIGINS debe coincidir con CORS_ALLOWED_ORIGINS
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001,http://localhost:3002,http://127.0.0.1:3002
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY

# JWT Settings
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_LIFETIME=60  # minutes
JWT_REFRESH_TOKEN_LIFETIME=1440  # minutes (24 hours)

# ============================================
# n8n Webhook Integration (NEW - 2025-11-16)
# ============================================

# n8n Webhook URL for data creation notifications
# n8n runs on host (satori project), accessible via localhost
N8N_WEBHOOK_URL=http://localhost:5678/webhook/sheet-api-created

# Enable/disable webhooks (set to false to disable notifications)
WEBHOOK_ENABLED=true
